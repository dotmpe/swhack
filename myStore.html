
<!doctype html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module myStore</title>
<style type="text/css"><!--
TT { font-family: lucidatypewriter, lucida console, courier }
--></style></head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>myStore</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/devel/WWW/2000/10/swap/myStore.py">/devel/WWW/2000/10/swap/myStore.py</a></font></td></tr></table>
    <p><tt>$Id$<br>
&nbsp;<br>
Process-global&nbsp;store<br>
&nbsp;<br>
Global&nbsp;variables&nbsp;are&nbsp;often&nbsp;a&nbsp;bad&nbsp;idea.&nbsp;However,&nbsp;the&nbsp;majority&nbsp;of&nbsp;cwm<br>
applications&nbsp;involve&nbsp;just&nbsp;one&nbsp;RDF&nbsp;store.&nbsp;One&nbsp;store&nbsp;can&nbsp;contain&nbsp;many<br>
formulae.&nbsp;&nbsp;The&nbsp;main&nbsp;thing&nbsp;which&nbsp;these&nbsp;formulae&nbsp;of&nbsp;the&nbsp;same&nbsp;store&nbsp;share<br>
is&nbsp;the&nbsp;index&nbsp;with&nbsp;which&nbsp;names&nbsp;and&nbsp;strings&nbsp;are&nbsp;interned.&nbsp;&nbsp;Within&nbsp;a<br>
store,&nbsp;you&nbsp;can&nbsp;compare&nbsp;things&nbsp;by&nbsp;comparing&nbsp;memory&nbsp;addresses&nbsp;rather<br>
than&nbsp;the&nbsp;whole&nbsp;tring,&nbsp;uri&nbsp;or&nbsp;list.<br>
&nbsp;<br>
Therefore,&nbsp;it&nbsp;is&nbsp;normal&nbsp;to&nbsp;just&nbsp;use&nbsp;one&nbsp;store.&nbsp;&nbsp;When&nbsp;you&nbsp;do&nbsp;this,&nbsp;the<br>
store&nbsp;paremeter&nbsp;to&nbsp;most&nbsp;methods&nbsp;beceomes&nbsp;unnecessary,&nbsp;and&nbsp;you&nbsp;get&nbsp;a<br>
simpler&nbsp;API.&nbsp;&nbsp;That&nbsp;is&nbsp;what&nbsp;this&nbsp;module&nbsp;does.&nbsp;If&nbsp;you&nbsp;import&nbsp;it,&nbsp;you<br>
will&nbsp;get&nbsp;a&nbsp;global&nbsp;store.&nbsp;This&nbsp;will&nbsp;not&nbsp;stop&nbsp;you&nbsp;using&nbsp;other&nbsp;stores.<br>
&nbsp;<br>
You&nbsp;also&nbsp;get&nbsp;the&nbsp;<a href="#Namespace">Namespace</a>()&nbsp;class&nbsp;which&nbsp;allows&nbsp;you&nbsp;to&nbsp;generate<br>
symbols&nbsp;easily.<br>
&nbsp;<br>
History:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Spilt&nbsp;off&nbsp;from&nbsp;&nbsp;thing.py&nbsp;2003-08-19<br>
&nbsp;<br>
$Log$
Revision 1.6  2004-03-21 04:24:35  timbl
(See doc/changes.html)
on xml output, nodeID was incorrectly spelled.
update.py provides cwm's --patch option.
diff.py as independent progrem generates patch files for cwm --patch
<br>
Revision&nbsp;1.6&nbsp;&nbsp;2004/03/09&nbsp;23:55:50&nbsp;&nbsp;connolly<br>
updated&nbsp;load&nbsp;to&nbsp;track&nbsp;change&nbsp;in&nbsp;llyn<br>
&nbsp;<br>
Revision&nbsp;1.5&nbsp;&nbsp;2004/03/06&nbsp;20:39:38&nbsp;&nbsp;timbl<br>
See&nbsp;<a href="http://www.w3.org/2000/10/swap/doc/changes.html">http://www.w3.org/2000/10/swap/doc/changes.html</a>&nbsp;for&nbsp;details<br>
-&nbsp;Regresssion&nbsp;test&nbsp;incorporates&nbsp;the&nbsp;RDF&nbsp;Core&nbsp;Positive&nbsp;Parser&nbsp;Tests&nbsp;except&nbsp;XMLLiteral&nbsp;&amp;&nbsp;reification<br>
-&nbsp;xml:base&nbsp;support&nbsp;was&nbsp;added&nbsp;in&nbsp;the&nbsp;parser.<br>
-&nbsp;Use&nbsp;the&nbsp;--rdf=R&nbsp;flag&nbsp;to&nbsp;allow&nbsp;RDF&nbsp;to&nbsp;be&nbsp;parsed&nbsp;even&nbsp;when&nbsp;there&nbsp;is&nbsp;no&nbsp;enveloping&nbsp;&lt;rdf:RDF&gt;&nbsp;tag<br>
-&nbsp;nodeid&nbsp;generated&nbsp;on&nbsp;RDF&nbsp;output<br>
-&nbsp;Automatically&nbsp;generated&nbsp;terms&nbsp;with&nbsp;no&nbsp;URIs&nbsp;sort&nbsp;after&nbsp;anything&nbsp;which&nbsp;has&nbsp;a&nbsp;URI.<br>
-&nbsp;<a href="#Namespace">Namespace</a>&nbsp;prefix&nbsp;smarts&nbsp;on&nbsp;output&nbsp;-&nbsp;default&nbsp;ns&nbsp;used&nbsp;for&nbsp;that&nbsp;most&nbsp;frequently&nbsp;used.<br>
-&nbsp;suppresses&nbsp;namespace&nbsp;prefix&nbsp;declarations&nbsp;which&nbsp;are&nbsp;not&nbsp;actually&nbsp;needed&nbsp;in&nbsp;the&nbsp;output.<br>
-&nbsp;Cwm&nbsp;will&nbsp;also&nbsp;make&nbsp;up&nbsp;prefixes&nbsp;when&nbsp;it&nbsp;needs&nbsp;them&nbsp;for&nbsp;a&nbsp;namespace,&nbsp;and&nbsp;none&nbsp;of&nbsp;the&nbsp;input&nbsp;data&nbsp;uses&nbsp;one.-<br>
-&nbsp;Will&nbsp;not&nbsp;use&nbsp;namespace&nbsp;names&nbsp;for&nbsp;URIs&nbsp;which&nbsp;do&nbsp;not&nbsp;have&nbsp;a&nbsp;"#".&nbsp;Including&nbsp;a&nbsp;"/"&nbsp;in&nbsp;the&nbsp;flags&nbsp;overrides.<br>
&nbsp;<br>
Revision&nbsp;1.4&nbsp;&nbsp;2004/01/29&nbsp;21:10:39&nbsp;&nbsp;timbl<br>
ooops&nbsp;-&nbsp;ref&nbsp;to&nbsp;SYMBOL<br>
&nbsp;<br>
Revision&nbsp;1.3&nbsp;&nbsp;2004/01/28&nbsp;23:03:00&nbsp;&nbsp;connolly<br>
-&nbsp;added&nbsp;unit&nbsp;tests&nbsp;to&nbsp;confirm&nbsp;that&nbsp;symbol&nbsp;functions&nbsp;take&nbsp;ustrings<br>
-&nbsp;wrapped&nbsp;some&nbsp;comments&nbsp;at&nbsp;79&nbsp;chars<br>
&nbsp;&nbsp;per&nbsp;<a href="http://www.python.org/doc/essays/styleguide.html">http://www.python.org/doc/essays/styleguide.html</a></tt></p>

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#fffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="uripath.html">uripath</a><br>
</td><td width="25%" valign=top></td><td width="25%" valign=top></td><td width="25%" valign=top></td></tr></table></td></tr></table>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="__builtin__.html#object">__builtin__.object</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="myStore.html#Namespace">Namespace</a>
</font></dt></dl>
</dd>
</dl>
 
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Namespace">class <strong>Namespace</strong></a>(<a href="__builtin__.html#object">__builtin__.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>A&nbsp;shortcut&nbsp;for&nbsp;getting&nbsp;a&nbsp;symbols&nbsp;as&nbsp;interned&nbsp;by&nbsp;the&nbsp;default&nbsp;store<br>
&nbsp;<br>
&gt;&gt;&gt;&nbsp;RDF&nbsp;=&nbsp;<a href="#Namespace">Namespace</a>('<a href="http://www.w3.org/1999/02/22-rdf-syntax-ns">http://www.w3.org/1999/02/22-rdf-syntax-ns</a>#')<br>
&gt;&gt;&gt;&nbsp;x&nbsp;=&nbsp;RDF.type<br>
&gt;&gt;&gt;&nbsp;y&nbsp;=&nbsp;RDF.type<br>
&gt;&gt;&gt;&nbsp;x&nbsp;is&nbsp;y<br>
1<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Namespace-__getattr__"><strong>__getattr__</strong></a>(self, lname)</dt><dd><tt>get&nbsp;the&nbsp;lname&nbsp;Symbol&nbsp;in&nbsp;this&nbsp;namespace.<br>
&nbsp;<br>
lname&nbsp;--&nbsp;an&nbsp;XML&nbsp;name&nbsp;(limited&nbsp;to&nbsp;URI&nbsp;characters)<br>
I&nbsp;hope&nbsp;this&nbsp;is&nbsp;only&nbsp;called&nbsp;*after*&nbsp;the&nbsp;ones&nbsp;defines&nbsp;above&nbsp;have&nbsp;been&nbsp;checked</tt></dd></dl>

<dl><dt><a name="Namespace-__init__"><strong>__init__</strong></a>(self, name, store<font color="#909090">=None</font>)</dt></dl>

<dl><dt><a name="Namespace-sym"><strong>sym</strong></a>(self, lname)</dt><dd><tt>For&nbsp;getting&nbsp;a&nbsp;symbol&nbsp;for&nbsp;an&nbsp;expression,&nbsp;rather&nbsp;than&nbsp;a&nbsp;constant.<br>
For,&nbsp;and&nbsp;from,&nbsp;pim/toIcal.py</tt></dd></dl>

<hr>
Data and non-method functions defined here:<br>
<dl><dt><strong>__dict__</strong> = &lt;dict-proxy object&gt;</dl>

<dl><dt><strong>__doc__</strong> = 'A shortcut for getting a symbols as interned by ...  &gt;&gt;&gt; y = RDF.type<font color="#c040c0">\n</font>      &gt;&gt;&gt; x is y<font color="#c040c0">\n</font>      1<font color="#c040c0">\n\n</font>    '</dl>

<dl><dt><strong>__module__</strong> = 'myStore'</dl>

<dl><dt><strong>__weakref__</strong> = &lt;member '__weakref__' of 'Namespace' objects&gt;</dl>

<hr>
Methods inherited from <a href="__builtin__.html#object">__builtin__.object</a>:<br>
<dl><dt><a name="Namespace-__delattr__"><strong>__delattr__</strong></a>(...)</dt><dd><tt>x.<a href="#Namespace-__delattr__">__delattr__</a>('name')&nbsp;&lt;==&gt;&nbsp;del&nbsp;x.name</tt></dd></dl>

<dl><dt><a name="Namespace-__getattribute__"><strong>__getattribute__</strong></a>(...)</dt><dd><tt>x.<a href="#Namespace-__getattribute__">__getattribute__</a>('name')&nbsp;&lt;==&gt;&nbsp;x.name</tt></dd></dl>

<dl><dt><a name="Namespace-__hash__"><strong>__hash__</strong></a>(...)</dt><dd><tt>x.<a href="#Namespace-__hash__">__hash__</a>()&nbsp;&lt;==&gt;&nbsp;hash(x)</tt></dd></dl>

<dl><dt><a name="Namespace-__reduce__"><strong>__reduce__</strong></a>(...)</dt><dd><tt>helper&nbsp;for&nbsp;pickle</tt></dd></dl>

<dl><dt><a name="Namespace-__repr__"><strong>__repr__</strong></a>(...)</dt><dd><tt>x.<a href="#Namespace-__repr__">__repr__</a>()&nbsp;&lt;==&gt;&nbsp;repr(x)</tt></dd></dl>

<dl><dt><a name="Namespace-__setattr__"><strong>__setattr__</strong></a>(...)</dt><dd><tt>x.<a href="#Namespace-__setattr__">__setattr__</a>('name',&nbsp;value)&nbsp;&lt;==&gt;&nbsp;x.name&nbsp;=&nbsp;value</tt></dd></dl>

<dl><dt><a name="Namespace-__str__"><strong>__str__</strong></a>(...)</dt><dd><tt>x.<a href="#Namespace-__str__">__str__</a>()&nbsp;&lt;==&gt;&nbsp;str(x)</tt></dd></dl>

<hr>
Data and non-method functions inherited from <a href="__builtin__.html#object">__builtin__.object</a>:<br>
<dl><dt><strong>__class__</strong> = &lt;type 'type'&gt;</dl>

<dl><dt><strong>__new__</strong> = &lt;built-in method __new__ of type object at 0xc39bc&gt;<dd><tt>T.<a href="#Namespace-__new__">__new__</a>(S,&nbsp;...)&nbsp;-&gt;&nbsp;a&nbsp;new&nbsp;<a href="__builtin__.html#object">object</a>&nbsp;with&nbsp;type&nbsp;S,&nbsp;a&nbsp;subtype&nbsp;of&nbsp;T</tt></dl>

</td></tr></table></td></tr></table>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;&nbsp;</td>
<td width="100%"><dl><dt><a name="-_checkStore"><strong>_checkStore</strong></a>(s<font color="#909090">=None</font>)</dt><dd><tt>Check&nbsp;that&nbsp;an&nbsp;explict&nbsp;or&nbsp;implicit&nbsp;stroe&nbsp;exists</tt></dd></dl>
 <dl><dt><a name="-_test"><strong>_test</strong></a>()</dt></dl>
 <dl><dt><a name="-bind"><strong>bind</strong></a>(prefix, uri)</dt></dl>
 <dl><dt><a name="-existential"><strong>existential</strong></a>(str, context, uri)</dt><dd><tt>Create&nbsp;or&nbsp;reuse,&nbsp;in&nbsp;the&nbsp;default&nbsp;store,&nbsp;a&nbsp;new&nbsp;named&nbsp;variable<br>
existentially&nbsp;qualified&nbsp;within&nbsp;the&nbsp;given<br>
formula&nbsp;as&nbsp;context,&nbsp;and&nbsp;return&nbsp;it&nbsp;for&nbsp;future&nbsp;use</tt></dd></dl>
 <dl><dt><a name="-formula"><strong>formula</strong></a>()</dt><dd><tt>Create&nbsp;or&nbsp;reuse,&nbsp;in&nbsp;the&nbsp;default&nbsp;store,&nbsp;a&nbsp;new&nbsp;empty&nbsp;formula&nbsp;(triple&nbsp;people&nbsp;think:&nbsp;triple&nbsp;store)<br>
and&nbsp;return&nbsp;it&nbsp;for&nbsp;future&nbsp;use</tt></dd></dl>
 <dl><dt><a name="-intern"><strong>intern</strong></a>(v)</dt></dl>
 <dl><dt><a name="-literal"><strong>literal</strong></a>(str, dt<font color="#909090">=None</font>, lang<font color="#909090">=None</font>)</dt><dd><tt>Create&nbsp;or&nbsp;reuse,&nbsp;in&nbsp;the&nbsp;default&nbsp;store,&nbsp;an&nbsp;interned&nbsp;version&nbsp;of<br>
the&nbsp;given&nbsp;literal&nbsp;string&nbsp;and&nbsp;return&nbsp;it&nbsp;for&nbsp;future&nbsp;use<br>
&nbsp;<br>
&gt;&gt;&gt;&nbsp;x&nbsp;=&nbsp;<a href="#-literal">literal</a>("#Andr\xe9")<br>
&gt;&gt;&gt;&nbsp;y&nbsp;=&nbsp;<a href="#-literal">literal</a>("#Andr\xe9")<br>
&gt;&gt;&gt;&nbsp;x&nbsp;is&nbsp;y<br>
1</tt></dd></dl>
 <dl><dt><a name="-load"><strong>load</strong></a>(uri<font color="#909090">=None</font>, openFormula<font color="#909090">=None</font>, contentType<font color="#909090">=None</font>, remember<font color="#909090">=1</font>)</dt><dd><tt>Get&nbsp;and&nbsp;parse&nbsp;document.&nbsp;&nbsp;Guesses&nbsp;format&nbsp;if&nbsp;necessary.<br>
&nbsp;<br>
uri:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;None,&nbsp;load&nbsp;from&nbsp;standard&nbsp;input.<br>
remember:&nbsp;if&nbsp;1,&nbsp;store&nbsp;as&nbsp;metadata&nbsp;the&nbsp;relationship&nbsp;between&nbsp;this&nbsp;URI&nbsp;and&nbsp;this&nbsp;formula.<br>
&nbsp;<br>
Returns:&nbsp;&nbsp;top-level&nbsp;formula&nbsp;of&nbsp;the&nbsp;parsed&nbsp;document.<br>
Raises:&nbsp;&nbsp;&nbsp;IOError,&nbsp;SyntaxError,&nbsp;DocumentError</tt></dd></dl>
 <dl><dt><a name="-loadMany"><strong>loadMany</strong></a>(uris, openFormula<font color="#909090">=None</font>)</dt><dd><tt>Load&nbsp;a&nbsp;number&nbsp;of&nbsp;resources&nbsp;into&nbsp;the&nbsp;same&nbsp;formula<br>
&nbsp;<br>
Returns:&nbsp;&nbsp;top-level&nbsp;formula&nbsp;of&nbsp;the&nbsp;parsed&nbsp;information.<br>
Raises:&nbsp;&nbsp;&nbsp;IOError,&nbsp;SyntaxError,&nbsp;DocumentError</tt></dd></dl>
 <dl><dt><a name="-setStore"><strong>setStore</strong></a>(s)</dt><dd><tt>Set&nbsp;the&nbsp;process-global&nbsp;default&nbsp;store&nbsp;to&nbsp;be&nbsp;used&nbsp;when&nbsp;an&nbsp;explicit&nbsp;store&nbsp;is&nbsp;not</tt></dd></dl>
 <dl><dt><a name="-setStoreClass"><strong>setStoreClass</strong></a>(c)</dt><dd><tt>Set&nbsp;the&nbsp;process-global&nbsp;class&nbsp;to&nbsp;be&nbsp;used&nbsp;to&nbsp;generate&nbsp;a&nbsp;new&nbsp;store&nbsp;if&nbsp;needed</tt></dd></dl>
 <dl><dt><a name="-symbol"><strong>symbol</strong></a>(uri)</dt><dd><tt>Create&nbsp;or&nbsp;reuse&nbsp;an&nbsp;interned&nbsp;version&nbsp;of&nbsp;the&nbsp;given&nbsp;symbol<br>
in&nbsp;the&nbsp;default&nbsp;store.&nbsp;and&nbsp;return&nbsp;it&nbsp;for&nbsp;future&nbsp;use<br>
&nbsp;<br>
&gt;&gt;&gt;&nbsp;x&nbsp;=&nbsp;<a href="#-symbol">symbol</a>(u'<a href="http://example.org/#Andr\xe9">http://example.org/#Andr\xe9</a>')<br>
&gt;&gt;&gt;&nbsp;y&nbsp;=&nbsp;<a href="#-symbol">symbol</a>(u'<a href="http://example.org/#Andr\xe9">http://example.org/#Andr\xe9</a>')<br>
&gt;&gt;&gt;&nbsp;x&nbsp;is&nbsp;y<br>
1</tt></dd></dl>
 <dl><dt><a name="-universal"><strong>universal</strong></a>(str, context, uri)</dt><dd><tt>Create&nbsp;or&nbsp;reuse,&nbsp;in&nbsp;the&nbsp;default&nbsp;store,&nbsp;a&nbsp;named&nbsp;variable<br>
universally&nbsp;qualified&nbsp;within&nbsp;the&nbsp;given<br>
formula&nbsp;as&nbsp;context,&nbsp;and&nbsp;return&nbsp;it&nbsp;for&nbsp;future&nbsp;use</tt></dd></dl>
</td></tr></table>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;&nbsp;</td>
<td width="100%"><strong>__file__</strong> = './myStore.py'<br>
<strong>__name__</strong> = 'myStore'<br>
<strong>store</strong> = None<br>
<strong>storeClass</strong> = None</td></tr></table>
</body></html>